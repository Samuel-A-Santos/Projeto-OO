{% extends "base.html" %}
{% block title %}Perfil do Funcionário{% endblock %}
{% block content %}
<h1>Perfil de {{ funcionario.nome }}</h1>
<form method="post" action="{{ url_for('alterar_funcionario', id=funcionario.id) }}">
    <label for="nome">Nome</label>
    <input type="text" id="nome" name="nome" value="{{ funcionario.nome }}" required>
    <label for="idade">Idade</label>
    <input type="number" id="idade" name="idade" value="{{ funcionario.idade }}" required>
    <label for="profissao">Profissão</label>
    <input type="text" id="profissao" name="profissao" value="{{ funcionario.profissao }}" required>
    <label for="rua">Rua</label>
    <input type="text" id="rua" name="rua" value="{{ funcionario.endereco.rua }}" required>
    <label for="cidade">Cidade</label>
    <input type="text" id="cidade" name="cidade" value="{{ funcionario.endereco.cidade }}" required>
    <label for="estado">Estado</label>
    <input type="text" id="estado" name="estado" value="{{ funcionario.endereco.estado }}" required>
    <label for="cep">CEP</label>
    <input type="text" id="cep" name="cep" value="{{ funcionario.endereco.cep }}" required>
    <label for="username">Nome de Usuário</label>
    <input type="text" id="username" name="username" value="{{ funcionario.username }}" required>
    <label for="password">Senha</label>
    <input type="password" id="password" name="password" value="{{ funcionario.password }}" required>
    <button type="submit">Salvar</button>
</form>
<h2>Histórico de Pontos</h2>
<table>
    <thead>
        <tr>
            <th>Data</th>
            <th>Entrada</th>
            <th>Saída</th>
        </tr>
    </thead>
    <tbody>
        {% for data, pontos in pontos.items() %}
        <tr>
            <td colspan="3"><strong>{{ data }}</strong></td>
        </tr>
        {% for ponto in pontos %}
        <tr>
            <td>{{ ponto.entrada_formatada }}</td>
            <td>{{ ponto.saida_formatada }}</td>
        </tr>
        {% endfor %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}